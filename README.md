# FTRLIM

## Introduction

Code for **FTRLIM: Distributed Instance Matching Frameworkfor Large-Scale Knowledge Graphs**

FTRLIM is a distributed framework for efficient large-scale instance matching. One major innovation of the framework is the MultiObJ Blocking algorithm, which divides instances into blocks based on the ordered joint of multiple objects features. FTRLIM applies the online-learning model FTRL to determine whether candidate instance pairs are matched. By analyzing the time complexity of the framework, we prove that the FTRLIM has high matching efficiency and also scales well. 

The FTRLIM framework took part in the SPIMBENCH Track of OAEI 2019. Not only did it achieve almost the same f1-score as the best result on the large dataset, but also it had 1.7 $\sim$ 18 times the efficiency of other state-of-the-art frameworks.

## Env

- PySpark
- Hive
- Python

## Install

To config the env for Spark, please see their [official website](https://spark.apache.org).

~~~
pip install -r requirements.txt
~~~

## Run

First zip all related files under the project with:

~~~
zip -r ftrlim.zip conf matching mylog
~~~

Then run the following command with pyspark.

~~~
pyspark \
  --master yarn \
  --name Narrative-Shell \
  --executor-memory 5g \
  --driver-memory 10g \
  --conf spark.executor.memoryOverhead=4g \
  --conf spark.sql.broadcastTimeout=36000 \
  --conf spark.yarn.appMasterEnv.PYSPARK_PYTHON=$PYSPARK_PYTHON \
  --py-files ftrlim.zip
 	im.py
~~~

## Data

The data collections used in the paper could be generated by the [permid-lance](https://github.com/TOJSSE-iData/permid-lance) project, which is also developed by us.

## Reference

~~~
The paper has not been published yet...
~~~

